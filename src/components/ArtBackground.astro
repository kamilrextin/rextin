---
// Collection of art pieces - classic and abstract works that make good subtle backgrounds
const artworks = [
  {
    id: "monet-water-lilies",
    url: "https://images.unsplash.com/photo-1578301978693-85fa9c0320b9?w=1920&q=80",
    artist: "Claude Monet style"
  },
  {
    id: "abstract-blue",
    url: "https://images.unsplash.com/photo-1541701494587-cb58502866ab?w=1920&q=80",
    artist: "Abstract"
  },
  {
    id: "abstract-gradient",
    url: "https://images.unsplash.com/photo-1618005198919-d3d4b5a92ead?w=1920&q=80",
    artist: "Abstract gradient"
  },
  {
    id: "abstract-paint",
    url: "https://images.unsplash.com/photo-1549490349-8643362247b5?w=1920&q=80",
    artist: "Abstract paint"
  },
  {
    id: "abstract-marble",
    url: "https://images.unsplash.com/photo-1558591710-4b4a1ae0f04d?w=1920&q=80",
    artist: "Abstract marble"
  },
  {
    id: "geometric",
    url: "https://images.unsplash.com/photo-1550859492-d5da9d8e45f3?w=1920&q=80",
    artist: "Geometric"
  },
  {
    id: "watercolor",
    url: "https://images.unsplash.com/photo-1579783902614-a3fb3927b6a5?w=1920&q=80",
    artist: "Abstract watercolor"
  },
  {
    id: "minimal-shapes",
    url: "https://images.unsplash.com/photo-1557672172-298e090bd0f1?w=1920&q=80",
    artist: "Minimal shapes"
  }
]
---

<div id="art-background" class="fixed inset-0 -z-10 overflow-hidden">
  <div
    id="art-image"
    class="absolute inset-0 bg-cover bg-center transition-opacity duration-1000"
    style="opacity: 0;"
  ></div>
  <div id="art-overlay" class="absolute inset-0 bg-white/90 transition-opacity duration-1000"></div>
</div>

<!-- Konami code message -->
<div id="konami-message" class="fixed bottom-6 left-1/2 -translate-x-1/2 px-4 py-2 bg-[#1a1a1a] text-white text-sm rounded-lg opacity-0 transition-opacity duration-500 pointer-events-none z-50">
  You found it.
</div>

<script define:vars={{ artworks }}>
  // Pick a random artwork on page load
  const randomIndex = Math.floor(Math.random() * artworks.length)
  const artwork = artworks[randomIndex]

  const artImage = document.getElementById('art-image')
  if (artImage) {
    const img = new Image()
    img.onload = () => {
      artImage.style.backgroundImage = `url(${artwork.url})`
      artImage.style.opacity = '1'
    }
    img.src = artwork.url
  }

  // Konami code: ↑↑↓↓←→←→BA
  const konamiCode = ['ArrowUp', 'ArrowUp', 'ArrowDown', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'ArrowLeft', 'ArrowRight', 'KeyB', 'KeyA']
  let konamiIndex = 0
  let konamiActivated = false

  document.addEventListener('keydown', (e) => {
    if (konamiActivated) return

    if (e.code === konamiCode[konamiIndex]) {
      konamiIndex++
      if (konamiIndex === konamiCode.length) {
        konamiActivated = true

        // Reveal the art
        const overlay = document.getElementById('art-overlay')
        const message = document.getElementById('konami-message')

        if (overlay) {
          overlay.style.opacity = '0'
        }

        if (message) {
          message.style.opacity = '1'
          setTimeout(() => {
            message.style.opacity = '0'
          }, 3000)
        }
      }
    } else {
      konamiIndex = 0
    }
  })
</script>
